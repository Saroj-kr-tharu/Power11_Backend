ðŸ”¹ Add Money Flow
1. Gateway callback (SUCCESS)
2. Start DB transaction
3. Find wallet by userId
   â”œâ”€ If NOT exists â†’ CREATE wallet
4. Create walletTransaction (CREDIT)
5. Update wallet.balance
6. Mark paymentTransaction SUCCESS
7. Commit transaction


ðŸ”¹ Join Contest Flow
Check wallet.balance
Lock entryFee
Create walletTransaction (DEBIT)
Update wallet
wallet.balance -= entryFee
wallet.lockedBalance += entryFee

ðŸ”¹ Contest Result Flow
Case	Wallet Action
Win	CREDIT balance
Lose	lockedBalance released
Refund	CREDIT balance

ðŸ”¹ Withdraw Flow
Create withdrawalRequest
Debit wallet
Admin approves
Money sent externally


paymentTransactions (1) â”€â”€â”€â”€< walletTransactions (*)
wallets (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< walletTransactions (*)
wallets (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< withdrawalRequests (*)