ðŸ”¹ Add Money Flow

Create paymentTransaction (PENDING)
Gateway callback â†’ SUCCESS
Create walletTransaction (CREDIT)
Update wallet.balance
paymentTransaction â†’ wallet Transaction â†’ wallet

ðŸ”¹ Join Contest Flow
Check wallet.balance
Lock entryFee
Create walletTransaction (DEBIT)
Update wallet
wallet.balance -= entryFee
wallet.lockedBalance += entryFee

ðŸ”¹ Contest Result Flow
Case	Wallet Action
Win	CREDIT balance
Lose	lockedBalance released
Refund	CREDIT balance

ðŸ”¹ Withdraw Flow
Create withdrawalRequest
Debit wallet
Admin approves
Money sent externally


paymentTransactions (1) â”€â”€â”€â”€< walletTransactions (*)
wallets (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< walletTransactions (*)
wallets (1) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< withdrawalRequests (*)